<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ChatBot HUCE - AI Assistant{% endblock %}</title>
    
    <!-- Preconnect to Google Fonts for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Main Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¤–</text></svg>">
    
    {% block head %}{% endblock %}
</head>
<body>
    <!-- Header with improved navigation -->    <header>
        <div class="container">
            <h1><a href="{{ url_for('chat.index') }}" style="color: inherit; text-decoration: none;">ChatBot HUCE</a></h1>            <nav>
                <ul>
                    <li><a href="{{ url_for('chat.index') }}" title="Báº¯t Ä‘áº§u chat ngay"> ğŸ’¬ Chat</a></li>
                    
                    {% if current_user.is_authenticated %}
                        <li><a href="{{ url_for('chat.chat_history') }}" title="Xem lá»‹ch sá»­ chat"> ğŸ“š Lá»‹ch sá»­ Chat</a></li>
                        <li>ğŸ‘‹ Xin chÃ o, <strong>{{ current_user.username }}</strong>!</li>
                        <li><a href="{{ url_for('user.logout') }}" title="ÄÄƒng xuáº¥t khá»i há»‡ thá»‘ng"> ğŸšª ÄÄƒng xuáº¥t</a></li>
                    {% else %}
                        <li><a href="{{ url_for('chat.chat_history') }}" title="ÄÄƒng nháº­p Ä‘á»ƒ xem lá»‹ch sá»­ chat"> ğŸ“š Lá»‹ch sá»­ Chat</a></li>
                        <li><a href="{{ url_for('user.login') }}" title="ÄÄƒng nháº­p Ä‘á»ƒ lÆ°u lá»‹ch sá»­"> ğŸ”‘ ÄÄƒng nháº­p</a></li>
                        <li><a href="{{ url_for('user.register') }}" title="Táº¡o tÃ i khoáº£n má»›i"> âœ¨ ÄÄƒng kÃ½</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </header>

    <!-- Flash Messages with improved styling -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages" style="max-width: 1200px; margin: 20px auto; padding: 0 20px;">
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }}">
                        {% if category == 'success' %}
                            âœ…
                        {% elif category == 'error' %}
                            âŒ
                        {% elif category == 'info' %}
                            â„¹ï¸
                        {% else %}
                            ğŸ“¢
                        {% endif %}
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Main Content Area -->
    <main>
        {% block content %}
        <!-- Default welcome content when no specific content is provided -->
        <div class="welcome-section">
            <h2>ChÃ o má»«ng Ä‘áº¿n vá»›i ChatBot HUCE! ğŸ“</h2>
            <p>Trá»£ lÃ½ AI thÃ´ng minh dÃ nh cho sinh viÃªn vÃ  giáº£ng viÃªn Äáº¡i há»c XÃ¢y dá»±ng HÃ  Ná»™i. Há»i Ä‘Ã¡p, tÆ° váº¥n vÃ  há»— trá»£ há»c táº­p 24/7.</p>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <span class="feature-icon">ğŸ¤–</span>
                <h3>AI ThÃ´ng Minh</h3>
                <p>Sá»­ dá»¥ng cÃ´ng nghá»‡ RAG tiÃªn tiáº¿n Ä‘á»ƒ cung cáº¥p cÃ¢u tráº£ lá»i chÃ­nh xÃ¡c vÃ  há»¯u Ã­ch tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u kiáº¿n thá»©c cá»§a trÆ°á»ng.</p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ğŸ’¬</span>
                <h3>TrÃ² Chuyá»‡n Tá»± NhiÃªn</h3>
                <p>Giao tiáº¿p báº±ng tiáº¿ng Viá»‡t má»™t cÃ¡ch tá»± nhiÃªn, chatbot hiá»ƒu ngá»¯ cáº£nh vÃ  duy trÃ¬ cuá»™c trÃ² chuyá»‡n liÃªn tá»¥c.</p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ğŸ“š</span>
                <h3>Kiáº¿n Thá»©c Phong PhÃº</h3>
                <p>Truy cáº­p thÃ´ng tin vá» chÆ°Æ¡ng trÃ¬nh Ä‘Ã o táº¡o, thá»§ tá»¥c hÃ nh chÃ­nh, vÃ  cÃ¡c hoáº¡t Ä‘á»™ng cá»§a trÆ°á»ng HUCE.</p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">âš¡</span>
                <h3>Pháº£n Há»“i Nhanh</h3>
                <p>Nháº­n cÃ¢u tráº£ lá»i tá»©c thÃ¬ cho má»i tháº¯c máº¯c, há»— trá»£ 24/7 khÃ´ng giá»›i háº¡n thá»i gian.</p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ğŸ”’</span>
                <h3>Báº£o Máº­t Cao</h3>
                <p>Äáº£m báº£o an toÃ n thÃ´ng tin cÃ¡ nhÃ¢n vÃ  dá»¯ liá»‡u cuá»™c trÃ² chuyá»‡n cá»§a ngÆ°á»i dÃ¹ng.</p>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ğŸ“±</span>
                <h3>Äa Thiáº¿t Bá»‹</h3>
                <p>Sá»­ dá»¥ng trÃªn má»i thiáº¿t bá»‹: mÃ¡y tÃ­nh, tablet, Ä‘iá»‡n thoáº¡i vá»›i giao diá»‡n thÃ¢n thiá»‡n.</p>
            </div>
        </div>

        <div class="content-wrapper text-center" style="margin-top: 40px;">
            <h3 style="margin-bottom: 20px; color: var(--text-primary);">Báº¯t Ä‘áº§u trÃ² chuyá»‡n ngay! ğŸš€</h3>
            <p style="margin-bottom: 30px; color: var(--text-secondary); font-size: 1.1rem;">
                Äáº·t cÃ¢u há»i vá» há»c táº­p, thá»§ tá»¥c, hoáº·c báº¥t cá»© Ä‘iá»u gÃ¬ báº¡n muá»‘n biáº¿t vá» HUCE.
            </p>
            <a href="{{ url_for('chat.index') }}" class="btn btn-primary" style="font-size: 1.1rem; padding: 15px 30px;">
                ğŸ’¬ Báº¯t Ä‘áº§u Chat ngay
            </a>
        </div>
        {% endblock %}
    </main>

    <!-- Enhanced Footer -->
    <footer>
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <p>&copy; 2025 ChatBot HUCE - Äáº¡i há»c XÃ¢y dá»±ng HÃ  Ná»™i. PhÃ¡t triá»ƒn bá»Ÿi sinh viÃªn TKKTPM.</p>
            <p style="margin-top: 8px; opacity: 0.7; font-size: 0.9rem;">
                Powered by Advanced RAG Technology 
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    {% block scripts %}{% endblock %}
    
    <!-- Add smooth scrolling and loading states -->
    <script>
        // Add smooth scrolling to all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Add loading state to buttons when clicked
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function() {
                if (!this.classList.contains('btn-secondary')) {
                    this.style.opacity = '0.7';
                    this.style.pointerEvents = 'none';
                    const originalText = this.innerHTML;
                    this.innerHTML = '<span class="loading"></span> Äang táº£i...';
                    
                    // Reset after 3 seconds (fallback)
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.style.opacity = '1';
                        this.style.pointerEvents = 'auto';
                    }, 3000);
                }
            });
        });

        // Add entrance animation for feature cards
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'slideInUp 0.6s ease-out forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.feature-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            observer.observe(card);
        });

        // Add slideInUp animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>